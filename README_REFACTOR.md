# AProgram - 工程化重构说明

## 项目结构

```
AProgram/
├── config/                 # 配置管理模块
│   ├── __init__.py
│   ├── constants.py        # 常量定义
│   └── settings.py         # 设置加载/保存
├── ui/                     # UI组件模块
│   ├── __init__.py
│   ├── app_card.py         # 应用卡片组件
│   ├── main_window.py      # 主窗口类
│   ├── settings_dialog.py  # 设置对话框
│   └── styles.py           # 样式定义
├── utils/                  # 工具类模块
│   ├── __init__.py
│   ├── file_utils.py       # 文件处理工具
│   ├── icon_utils.py       # 图标处理工具
│   ├── process_utils.py    # 进程管理工具
│   └── system_utils.py     # 系统相关工具
├── main.py                 # 程序入口文件
├── main_old.py             # 原单文件备份
├── requirements.txt        # 依赖管理
├── build.bat               # 构建脚本
├── LICENSE                 # 许可证
├── pyproject.toml          # 项目配置
└── README.md               # 项目说明
```

## 重构收益

### 1. 模块化架构
- **配置管理**：统一的配置加载和保存机制
- **UI组件**：独立的UI组件，便于维护和复用
- **工具类**：通用工具函数，提高代码复用性

### 2. 代码组织
- **单一职责**：每个模块负责特定功能
- **低耦合**：模块间依赖关系清晰
- **高内聚**：相关功能集中在同一模块

### 3. 可维护性
- **易于扩展**：新增功能时只需修改相关模块
- **易于测试**：可以对单个模块进行单元测试
- **易于调试**：问题定位更加精确

## 主要改进

### 代码拆分
- 原 1200+ 行单文件拆分为多个小文件
- 每个文件职责明确，便于理解和维护

### 依赖管理
- 创建 `requirements.txt` 管理Python依赖
- 明确版本要求，确保环境一致性

### 模块导入
- 使用相对导入，避免循环依赖
- 清晰的导入结构，便于理解模块关系

## 使用说明

### 安装依赖
```bash
pip install -r requirements.txt
```

### 运行程序
```bash
python main.py
```

## 注意事项

1. **向后兼容**：重构后的代码与原版本完全兼容
2. **配置文件**：现有的配置文件不受影响
3. **功能完整**：所有原有功能都得到保留并正常工作

## 后续扩展

基于新的模块化架构，可以轻松添加：
- 新的UI组件
- 更多的进程管理功能
- 主题和样式定制
- 插件系统
- 自动更新机制